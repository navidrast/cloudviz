# CloudViz Environment Configuration
# Copy this file to .env and update the values for your environment

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================

# Application Environment
CLOUDVIZ_ENV=production
DEBUG=false
LOG_LEVEL=INFO

# Server Configuration
CLOUDVIZ_API_HOST=0.0.0.0
CLOUDVIZ_API_PORT=8000
CLOUDVIZ_API_WORKERS=4

# Security Settings
CLOUDVIZ_SECRET_KEY=your-super-secret-key-change-this-in-production-min-32-chars
CLOUDVIZ_JWT_SECRET=your-jwt-secret-key-change-this-too-min-32-chars
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=30

# CORS Settings
CORS_ORIGINS=["http://localhost:3000", "https://your-frontend-domain.com"]
CORS_ALLOW_CREDENTIALS=true

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Primary Database (PostgreSQL recommended for production)
DATABASE_URL=postgresql://cloudviz:cloudviz@localhost:5432/cloudviz

# For Docker Compose setup, use:
# DATABASE_URL=postgresql://cloudviz:cloudviz@db:5432/cloudviz

# PostgreSQL Database Settings (for Docker Compose)
POSTGRES_DB=cloudviz
POSTGRES_USER=cloudviz
POSTGRES_PASSWORD=cloudviz

# Redis Cache (optional but recommended)
REDIS_URL=redis://localhost:6379/0

# For Docker Compose setup, use:
# REDIS_URL=redis://redis:6379/0

CACHE_TTL_SECONDS=3600

# =============================================================================
# CLOUD PROVIDER CREDENTIALS
# =============================================================================

# Azure Configuration
AZURE_TENANT_ID=your-azure-tenant-id
AZURE_CLIENT_ID=your-azure-client-id
AZURE_CLIENT_SECRET=your-azure-client-secret
AZURE_SUBSCRIPTION_ID=your-azure-subscription-id

# AWS Configuration
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_DEFAULT_REGION=us-east-1

# GCP Configuration
GCP_PROJECT_ID=your-gcp-project-id
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# =============================================================================
# VISUALIZATION SETTINGS
# =============================================================================

# Default visualization settings
CLOUDVIZ_DEFAULT_THEME=professional
CLOUDVIZ_DEFAULT_FORMAT=mermaid
CLOUDVIZ_DEFAULT_LAYOUT=hierarchical
CLOUDVIZ_OUTPUT_DIRECTORY=./output

# Mermaid settings
MERMAID_THEME=professional
MERMAID_WIDTH=1920
MERMAID_HEIGHT=1080

# Graphviz settings
GRAPHVIZ_ENGINE=dot
GRAPHVIZ_DPI=300

# =============================================================================
# API CONFIGURATION
# =============================================================================

# API Rate Limiting
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_WINDOW=60

# Request timeouts (seconds)
API_TIMEOUT=300
EXTRACTION_TIMEOUT=1800

# File upload limits
MAX_UPLOAD_SIZE=10485760  # 10MB

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Logging settings
LOG_FORMAT=json
LOG_FILE_PATH=./logs/cloudviz.log
LOG_MAX_SIZE=10485760  # 10MB
LOG_BACKUP_COUNT=5

# Enable SQL query logging (development only)
DATABASE_ECHO=false

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================

# Prometheus metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Health check settings
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# Sentry error tracking (optional)
SENTRY_DSN=your-sentry-dsn-here

# =============================================================================
# EMAIL NOTIFICATIONS
# =============================================================================

# SMTP Configuration for notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=cloudviz@your-domain.com

# =============================================================================
# WEBHOOK AND INTEGRATION SETTINGS
# =============================================================================

# Slack integration
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Microsoft Teams integration
TEAMS_WEBHOOK_URL=https://your-tenant.webhook.office.com/webhookb2/YOUR-WEBHOOK

# n8n integration
N8N_WEBHOOK_URL=https://your-n8n-instance.com/webhook/cloudviz

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================

# SSL Settings (for HTTPS)
SSL_ENABLED=false
SSL_CERT_FILE=/path/to/cert.pem
SSL_KEY_FILE=/path/to/key.pem

# =============================================================================
# DEVELOPMENT SETTINGS (development environment only)
# =============================================================================

# Development specific settings
DEV_RELOAD=true
DEV_DEBUG=true
DEV_CORS_ORIGINS=["*"]

# Test database (for running tests)
TEST_DATABASE_URL=postgresql://cloudviz:cloudviz@localhost:5432/cloudviz_test

# =============================================================================
# PROVIDER-SPECIFIC SETTINGS
# =============================================================================

# Azure provider settings
AZURE_RATE_LIMIT_REQUESTS=100
AZURE_RATE_LIMIT_WINDOW=60
AZURE_TIMEOUT=300

# AWS provider settings
AWS_RATE_LIMIT_REQUESTS=200
AWS_RATE_LIMIT_WINDOW=60
AWS_TIMEOUT=300

# GCP provider settings
GCP_RATE_LIMIT_REQUESTS=150
GCP_RATE_LIMIT_WINDOW=60
GCP_TIMEOUT=300

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Database connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30

# Redis connection settings
REDIS_MAX_CONNECTIONS=100
REDIS_TIMEOUT=5

# Background job settings
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_WORKER_CONCURRENCY=4

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Additional security settings
TRUSTED_HOSTS=["localhost", "127.0.0.1", "your-domain.com"]
ALLOWED_HOSTS=["*"]

# Session settings
SESSION_TIMEOUT=3600  # 1 hour
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true

# Password policy
MIN_PASSWORD_LENGTH=8
REQUIRE_SPECIAL_CHARS=true

# =============================================================================
# BACKUP AND RECOVERY
# =============================================================================

# Backup settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION=./backups

# Cloud storage backup
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_AZURE_CONTAINER=your-backup-container
BACKUP_GCS_BUCKET=your-backup-bucket
